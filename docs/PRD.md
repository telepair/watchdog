# Watchdog 监控平台产品需求文档

## 1. 项目概述

### 1.1 产品定位

Watchdog 是一个面向**小团队和个人开发者**的开箱即用监控平台，采用 **Open Core** 商业模式，
通过单体架构和模板驱动设计，提供从 API 监控到垂直场景（股票/加密货币/天气）的一体化监控解决方案。

### 1.2 目标用户

- **个人开发者**: 监控个人项目、投资组合（股票/加密货币）、生活服务
- **技术爱好者**: 监控家庭网络、IoT 设备、个人服务
- **自由职业者**: 监控客户项目和个人业务指标
- **小团队**: 需要简单易用的一体化监控方案
- **中小企业**: 寻求低成本、易维护的监控解决方案

### 1.3 核心价值

- **开箱即用**: 10 分钟部署，5 分钟配置，零学习成本
- **垂直场景**: 内置金融、天气、生活监控模板
- **灵活部署**: 开源单机版 + 商业集群版 + SaaS 服务
- **模板驱动**: 参数化配置，快速复制成功监控场景

### 1.4 商业模式

**Open Core 架构**：

- **开源版** (Single Node): 完整功能，单机部署，社区支持
- **商业版** (Cluster): 高可用集群，多租户，企业功能
- **SaaS 服务**: 托管服务，免费套餐 + 付费增值

## 2. 产品矩阵与功能对比

### 2.1 产品版本对比

| 功能领域     | 开源版 (Single Node) | 商业版 (Cluster)      | SaaS 服务     |
| ------------ | -------------------- | --------------------- | ------------- |
| **部署架构** | 单机部署             | 高可用集群            | 托管服务      |
| **数据采集** | 全功能               | 全功能 + 分布式       | 全功能        |
| **监控目标** | 无限制               | 无限制                | 分层限制      |
| **告警通知** | 全功能               | 全功能 + 企业级       | 全功能        |
| **监控模板** | 内置+自定义          | 内置+自定义           | 内置+自定义   |
| **用户管理** | 单用户               | 多租户 + RBAC         | 多用户        |
| **数据存储** | 本地数据库           | 分布式存储            | 云存储        |
| **高可用**   | 单点故障             | 自动故障转移          | 99.9% SLA     |
| **扩展性**   | 垂直扩展             | 水平扩展              | 弹性扩展      |
| **技术支持** | 社区支持             | 专业支持 + SLA        | 在线支持      |
| **价格**     | **免费**             | **$2999-9999/一次性** | **$0-199/月** |

### 2.2 开源版核心特性

**设计原则**：

- 开源版提供**完整功能**，不做功能限制
- 仅在**部署架构**和**企业级特性**上区分
- 确保单机版能满足 80% 用户需求

**限制项**：

- 仅支持单机部署，无集群功能
- 单用户模式，无多租户支持
- 本地数据存储，无分布式存储
- 社区支持，无商业 SLA

## 3. 功能需求详细设计

### 3.1 数据采集系统

#### 3.1.1 Agent 采集

**轻量级 Watchdog Agent**：

- **安装部署**：

  ```bash
  # 一键安装
  curl -sf https://get.telepair.online/watchdog-agent | sudo sh

  # 或手动下载
  wget https://github.com/telepair/watchdog/releases/latest/download/watchdog-agent
  ./watchdog-agent --server=https://your-watchdog.com --token=your-token
  ```

- **系统监控**：

  - CPU/内存/磁盘/网络使用率
  - 进程和服务状态监控
  - 系统负载和性能指标
  - 文件系统和目录监控

- **安全特性**：

  - TLS 加密通信
  - Token 认证机制
  - 数据在传和静态加密
  - 最小权限原则

- **轻量设计**：
  - 单二进制文件，无外部依赖
  - 内存占用 < 50MB
  - CPU 占用 < 1%
  - 支持 Linux/Windows/macOS

#### 3.1.2 HTTP/HTTPS API 监控 (PULL)

- **请求配置**: 支持 GET/POST/PUT/DELETE 方法
- **认证支持**: Basic Auth、Bearer Token、API Key、OAuth2
- **自定义请求**: Headers、Body、Query Parameters、Timeout
- **结果解析**:
  - **JSON Path**: 使用 JSONPath 表达式提取关键数据
  - **HTTP Status Code**: 监控响应状态码（2xx/3xx/4xx/5xx）
  - **关键字匹配**: 响应内容包含/不包含指定字符串
  - **响应时间**: 请求耗时监控
  - **响应大小**: 响应体大小监控

#### 3.1.3 网络端口监控 (PULL)

- **TCP 端口**: 连接性检测、连接时间、握手状态
- **UDP 端口**: 探测可达性（需要目标支持响应）
- **服务发现**: 自动扫描端口范围
- **SSL/TLS 检测**: 证书有效期、加密强度

#### 3.1.4 Prometheus Metrics 采集 (PULL)

- **标准格式**: 兼容 Prometheus exposition 格式
- **服务发现**: Kubernetes、Consul、文件发现
- **指标过滤**: 支持正则表达式过滤指标
- **自动识别**: 自动识别 Counter、Gauge、Histogram、Summary

#### 3.1.5 Kubernetes 集群监控 (PULL)

- **资源监控**: Pod、Node、Service、Deployment 状态
- **指标采集**: CPU、内存、磁盘、网络使用率
- **事件监控**: K8s Events 实时监控和告警
- **健康检查**: Liveness、Readiness、Startup Probes
- **多集群支持**: 同时监控多个 K8s 集群
- **权限管理**: RBAC 权限配置和 ServiceAccount
- **自动发现**: 基于 Label/Annotation 的服务发现
- **CRD 支持**: 自定义资源监控

#### 3.1.6 脚本执行监控 (PULL)

- **Shell 脚本**: 支持 bash/sh 脚本执行
- **Python 脚本**: 内置 Python 运行时
- **JavaScript 脚本**: Node.js 运行时支持
- **输出解析**:
  - Exit Code 监控
  - STDOUT/STDERR 内容解析
  - JSON 格式输出自动解析
  - 执行时间监控
- **资源限制**: CPU、内存、执行时间限制
- **环境变量**: 自定义脚本执行环境

#### 3.1.7 Push 数据接收与 Webhook 集成

**Push URL 生成机制**：

每个 Push 数据源会生成唯一的接收 URL：

```text
https://watchdog.example.com/api/v1/push/{source_id}/{token}
```

- **source_id**: 数据源唯一标识
- **token**: 安全验证令牌，支持自动轮换
- **URL 管理**: Web UI 可视化管理，一键复制/重置

**Webhook 集成增强**：

基于 Push URL 的 Webhook 专用处理能力：

- **标准 Webhook**: 接收第三方服务 Webhook（GitHub、GitLab、Jenkins 等）
- **签名验证**: HMAC-SHA256、GitHub、GitLab 等标准签名验证
- **重试机制**: 接收失败时的智能重试策略
- **去重处理**: 基于内容哈希的重复数据检测
- **格式解析**: 自动识别并解析常见 Webhook 格式
- **事件路由**: 根据 Webhook 类型自动路由到对应处理器

### 3.2 告警管理系统

#### 3.2.1 规则配置

- **阈值类告警**:
  - **数值阈值**: 大于/小于/等于/范围判断
  - **趋势告警**: 连续上升/下降检测
  - **百分比变化**: 相对变化量监控
  - **统计告警**: 平均值/中位数/分位数异常
  - **复合条件**: AND/OR 逻辑组合
  - **时间窗口**: 持续时间和评估周期
- **非阈值类告警**:
  - **定时通知**: 基于 Cron 表达式的定期数据汇报
    - 日报/周报/月报自动发送
    - 固定时间点状态检查（如每日 9:00 股市开盘前发送昨日收盘价）
    - 定期健康检查报告
  - **事件驱动告警**: 基于特定事件触发
    - 数据源连接状态变化
    - 配置文件更新通知
    - 系统启动/停止事件
  - **条件变化告警**: 监控条件状态改变
    - 从正常变为异常（或反之）
    - 服务从可用变为不可用
    - 监控目标上线/下线
  - **数据可用性告警**: 监控数据源本身
    - 数据源长时间无更新
    - API 调用失败次数累积
    - 数据质量检查（缺失值、异常值）
  - **自定义脚本告警**: 基于脚本输出的灵活告警
    - 脚本返回码非零触发告警
    - 输出内容包含特定关键字
    - JSON 输出字段值检查

#### 3.2.2 告警策略

- **分级管理**: Info/Warning/Critical/Fatal
- **静默期**: 避免告警风暴
- **告警抑制**: 依赖关系管理
- **升级链路**: 逐级上报机制

#### 3.2.3 告警生命周期

```text
Pending → Firing → Notified → Acknowledged → Resolved
```

### 3.3 通知渠道系统

#### 3.3.1 即时通讯

- **Telegram Bot**: 个人/群组通知
- **Slack/Discord**: Webhook 集成
- **钉钉/企业微信**: 国内 IM 支持

#### 3.3.2 传统渠道

- **Email/SMTP**: 邮件通知
- **Webhook**: 通用 HTTP 回调
- **SMS**: 短信通知（通过第三方）

### 3.4 监控模板系统 (核心特性)

Watchdog 提供监控模板，降低用户配置门槛，快速部署常见监控场景。

#### 3.4.1 模板管理

- **模板库**: 内置常用监控模板，支持导入/导出/分享
- **参数化配置**: 模板支持参数化，用户只需填写关键参数
- **一键部署**: 从模板快速创建监控规则和告警策略
- **版本管理**: 模板版本控制和更新机制
- **自定义模板**: 用户可基于现有模板创建自定义模板

#### 3.4.2 预制模版（差异化优势）

- **加密货币监控模板**:
  - **数据源**: CoinGecko API、Binance API、CoinMarketCap API
  - **监控指标**: 价格、24h 变化率、市值、交易量、恐慌贪婪指数
  - **告警场景**:
    - **价格阈值**: 高于/低于指定价格触发告警
    - **价格目标**: 指定截止时间内价格达到/未达到目标值
    - **波动异常**: 短时间内涨跌幅超过阈值
    - **市值变化**: 市值排名显著变化
    - **交易量异常**: 成交量异常放大或萎缩
  - **配置参数**: 币种符号、目标价格、时间期限、波动阈值、交易所选择
- **股票价格监控模板**:
  - **数据源**: Yahoo Finance API、Alpha Vantage API、Polygon API、东方财富 API
  - **监控指标**: 股价、涨跌幅、成交量、PE 比率、市盈率、技术指标
  - **告警场景**:
    - **价格突破**: 突破支撑位/阻力位/重要均线
    - **技术信号**: RSI 超买超卖、MACD 金叉死叉、KDJ 背离
    - **基本面变化**: PE 比率异常、成交量放量缩量
    - **财报周期**: 财报发布前后价格异常波动
  - **配置参数**: 股票代码、价格阈值、技术指标参数、成交量阈值
- **天气监控模板**:
  - **数据源**: OpenWeatherMap API、AccuWeather API、中国天气网 API
  - **监控指标**: 温度、湿度、风速、降雨量、空气质量、紫外线指数
  - **告警场景**:
    - **极端天气**: 高温/低温/暴雨/大风/冰雹预警
    - **空气质量**: PM2.5/PM10/AQI 超标告警
    - **农业气象**: 霜冻、干旱、病虫害气象条件
    - **户外活动**: 适宜运动、出行的天气条件
  - **配置参数**: 地理位置、温度阈值、空气质量标准、天气类型过滤
- **系统资源监控模板**:
  - **数据源**: 系统指标采集、SNMP、WMI、SSH 远程执行
  - **监控指标**: CPU、内存、磁盘、网络、进程、服务状态
  - **告警场景**:
    - **资源告警**: CPU/内存/磁盘使用率超阈值
    - **服务监控**: 关键服务进程状态监控
    - **性能基线**: 基于历史数据的性能异常检测
  - **配置参数**: 主机列表、资源阈值、关键进程名称

### 3.5 数据查询与可视化

#### 3.5.1 查询功能

- **PromQL 兼容查询**: 复杂数据分析
- **时间范围选择**: 快速时间选择器
- **数据导出**: CSV/JSON 格式

#### 3.5.2 可视化

- **实时仪表盘**: 关键指标展示
- **趋势图表**: 时序数据可视化
- **告警面板**: 当前告警状态
- **拓扑图**: 服务依赖关系

### 3.6 系统管理

#### 3.6.1 配置管理

- **Web UI 配置**: 可视化配置界面
- **YAML 文件**: 配置即代码
- **热加载**: 无需重启更新配置
- **版本管理**: 配置历史和回滚

#### 3.6.2 权限控制

- **用户管理**: 本地用户/LDAP/OAuth
- **角色权限**: RBAC 模型
- **API Token**: 程序化访问

## 4. 技术架构设计

### 4.1 单机版架构 (开源版)

```text
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Web UI        │    │   API Gateway   │    │   Agent         │
│   - Dashboard   │    │   - REST API    │    │   - Host Stats  │
│   - Config      │◄───┤   - Webhook     │◄───┤   - Logs        │
│   - Alerts      │    │   - Auth        │    │   - Custom      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         └───────────────────────┼───────────────────────┘
                                 ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Core Engine                                  │
│   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐           │
│   │ Collector   │  │ Rule Engine │  │ Notifier    │           │
│   │ - HTTP      │  │ - Threshold │  │ - Email     │           │
│   │ - TCP/UDP   │  │ - Schedule  │  │ - Webhook   │           │
│   │ - Scripts   │  │ - Template  │  │ - Telegram  │           │
│   │ - External  │  │ - Bot API   │  │ - Discord   │           │
│   │ - K8s       │  └─────────────┘  └─────────────┘           │
│   └─────────────┘                                              │
│                                                                 │
│   ┌─────────────────────────────────────────────────────────┐ │
│   │                    Bot Framework                        │ │
│   │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐   │ │
│   │   │ Telegram    │  │ Commands    │  │ Webhooks    │   │ │
│   │   │ - Bot API   │  │ - /status   │  │ - Receive   │   │ │
│   │   │ - Updates   │  │ - /alerts   │  │ - Forward   │   │ │
│   │   │ - Inline KB │  │ - /help     │  │ - Process   │   │ │
│   │   └─────────────┘  └─────────────┘  └─────────────┘   │ │
│   └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                 │
                      ┌─────────────────┐
                      │   Storage       │
                      │   - SQLite      │
                      │   - Time Series │
                      │   - Config      │
                      │   - Bot State   │
                      └─────────────────┘
```

**特点**：

- **单二进制**: Go 编译的单个文件，无外部依赖
- **内嵌数据库**: SQLite + 时序数据库，无需配置
- **轻量级**: 内存占用 < 100MB，适合个人服务器
- **完整功能**: 包含所有监控和告警功能

### 4.2 技术选型

**后端技术栈**：

- **语言**: Go 1.25+
- **Web 框架**: Gin
- **数据库**: SQLite (单机) / PostgreSQL (集群)
- **时序数据**: VictoriaMetrics
- **消息队列**: Nats

**前端技术栈**：

- **框架**: htmx + Go templ
- **样式**: TailwindCSS / TwinCSS
- **交互**: htmx (Ajax, WebSockets)
- **图表**: Chart.js / ECharts
- **构建**: Go embed (内嵌静态资源)

## 5. 商业化路径规划

### 5.1 三阶段发展策略

#### Phase 1: 开源基础版 (0-12 个月)

**目标**: 建立技术品牌，积累用户基础

**产品交付**：

- ✅ 开源单机版（完整功能）
- ✅ 基础监控模板（10 个）
- ✅ 轻量级 Agent
- ✅ Docker/二进制部署
- ✅ 完整文档和社区

**商业指标**：

- GitHub Stars: 1000+
- Docker Pulls: 10000+
- 活跃用户: 500+

#### Phase 2: 商业化启动 (12-24 个月)

**目标**: 推出商业版本，建立盈利模式

**产品交付**：

- ✅ 集群版本 (商业许可)
- ✅ SaaS 服务平台
- ✅ 高级监控模板（20 个）
- ✅ 企业级特性（多租户、RBAC）
- ✅ 专业技术支持

**商业指标**：

- 开源用户: 2000+
- 付费用户: 100+
- 企业客户: 10+

#### Phase 3: 规模化扩张 (24-36 个月)

**目标**: 规模化增长，建立市场地位

**产品交付**：

- ✅ AI 驱动告警和异常检测
- ✅ 高级分析和可视化
- ✅ 生态集成（API/Webhook/插件）
- ✅ 行业解决方案
- ✅ 国际化和渠道合作

**商业指标**：

- 开源用户: 10000+
- 付费用户: 1000+
- 企业客户: 100+

### 5.2 收入模式设计

#### 开源版 (永久免费)

- ✅ 单机部署，完整功能
- ✅ 社区支持
- ❌ 无集群功能
- ❌ 无企业级特性

#### SaaS 服务

```text
免费版 (Free):
├── 5个监控目标
├── 基础告警
├── 社区支持
└── Watchdog 品牌

专业版 ($19/月):
├── 50个监控目标
├── 高级告警策略
├── 垂直模板
├── 邮件支持
└── 无品牌标识

企业版 ($199/月):
├── 无限监控目标
├── 多用户管理
├── API 限额提升
├── 专属支持
└── SLA 保障
```

#### 集群版许可 (一次性)

```text
标准集群版 ($2999):
├── 3节点授权
├── 基础HA功能
├── 技术支持(1年)
└── 升级服务

企业集群版 ($9999):
├── 无限节点
├── 高级企业功能
├── 专业服务支持
└── 定制开发
```

## 6. 非功能需求

### 6.1 性能要求

- **采集性能**: 支持 1000+ 监控目标
- **查询响应**: 95% 查询 <1s
- **告警延迟**: 从触发到通知 <30s
- **数据保留**: 默认 30 天高精度数据

### 6.2 可用性要求

- **系统可用性**: 99.9% SLA
- **数据持久性**: 断电恢复
- **故障恢复**: 自动故障转移

### 6.3 安全要求

- **传输加密**: TLS/HTTPS
- **认证授权**: JWT/API Key
- **审计日志**: 操作记录
- **敏感数据**: 加密存储

### 6.4 可扩展性

- **水平扩展**: 支持多实例部署
- **插件机制**: 自定义采集器/通知器
- **API 开放**: RESTful API

## 7. 部署方案与用户体验

### 7.1 开箱即用部署方案

#### **Docker 一键部署** (推荐)

```bash
# 基础部署
docker run -d \
  --name watchdog \
  -p 8080:8080 \
  -v watchdog-data:/data \
  ghcr.io/telepair/watchdog:latest

# 访问: http://localhost:8080
# 默认用户: admin/admin123
```

#### **Docker Compose 配置**

```yaml
version: "3.8"
services:
  watchdog:
    image: ghcr.io/telepair/watchdog:latest
    container_name: watchdog
    ports:
      - "8080:8080"
    volumes:
      - watchdog-data:/data
      - ./config:/config # 可选：外部配置文件
    environment:
      - WATCHDOG_AUTH_SECRET=your-secret-key
      - WATCHDOG_SMTP_HOST=smtp.gmail.com
      - WATCHDOG_SMTP_USER=your-email@gmail.com
      - WATCHDOG_SMTP_PASS=your-password
    restart: unless-stopped

volumes:
  watchdog-data:
```

#### **二进制直接部署**

```bash
# 下载最新版本
wget https://github.com/telepair/watchdog/releases/latest/download/watchdog-linux-amd64
chmod +x watchdog-linux-amd64

# 直接运行
./watchdog-linux-amd64 \
  --port=8080 \
  --data-dir=./data \
  --config=./config.yaml

# 或者使用默认配置
./watchdog-linux-amd64
```

#### **Kubernetes 部署**

```bash
# Kubernetes
kubectl apply -f https://raw.githubusercontent.com/telepair/watchdog/main/deploy/k8s.yaml
```

### 7.2 新手引导流程

#### **首次启动引导**

```text
步骤 1: 选择部署方式
┌─────────────────────────────────────────────────┐
│  选择你的部署方式:                              │
│                                                │
│  ● Docker 一键部署    (推荐, 2分钟)              │
│  ○ 二进制文件部署  (简单, 1分钟)              │
│  ○ 云平台一键部署  (自动化, 5分钟)          │
│  ○ SaaS 服务        (无需部署, 即时使用)       │
│                                                │
│               [下一步] [跳过引导]                │
└─────────────────────────────────────────────────┘

步骤 2: 选择监控模板
┌─────────────────────────────────────────────────┐
│  选择你想要监控的内容:                        │
│                                                │
│  ☑ 网站/API 监控    (服务可用性监控)           │
│  ☑ 服务器监控        (主机资源监控)           │
│  ☐ 加密货币监控      (价格变动告警)           │
│  ☐ 股票价格监控      (投资组合监控)           │
│  ☐ 天气监控          (极端天气预警)           │
│                                                │
│               [下一步] [跳过引导]                │
└─────────────────────────────────────────────────┘

步骤 3: 配置通知方式
┌─────────────────────────────────────────────────┐
│  设置告警通知方式:                              │
│                                                │
│  ● 邮件通知                                    │
│    邮箱地址: [your-email@gmail.com      ]    │
│                                                │
│  ○ Telegram 通知                             │
│  ○ 微信/企业微信                             │
│  ○ Webhook 自定义                             │
│                                                │
│               [完成设置] [稍后配置]              │
└─────────────────────────────────────────────────┘
```

#### **5 分钟快速上手**

1. **部署** (2 分钟): `docker run -d -p 8080:8080 ghcr.io/telepair/watchdog`
2. **访问** (30 秒): 打开 `http://localhost:8080`
3. **选模板** (1 分钟): 选择"网站监控"模板
4. **填参数** (1 分钟): 输入网站 URL 和邮箱
5. **开始监控** (30 秒): 点击"开始监控"

### 7.3 Agent 部署方案

#### **一键安装 Agent**

```bash
# Linux/macOS
curl -sf https://get.telepair.online/agent | sudo sh

# 或者手动安装
wget https://github.com/telepair/agent/releases/latest/download/watchdog-agent-linux
sudo mv watchdog-agent-linux /usr/local/bin/watchdog-agent
sudo chmod +x /usr/local/bin/watchdog-agent

# 配置并启动
sudo watchdog-agent \
  --server=https://your-watchdog.com \
  --token=your-agent-token \
  --install-service

# 检查状态
sudo systemctl status watchdog-agent
```

#### **Docker 容器中运行**

```bash
docker run -d \
  --name watchdog-agent \
  --privileged \
  --pid=host \
  --network=host \
  -v /:/rootfs:ro \
  -v /var/run:/var/run:ro \
  -v /sys:/sys:ro \
  -v /var/lib/docker/:/var/lib/docker:ro \
  -e WATCHDOG_SERVER=https://your-watchdog.com \
  -e WATCHDOG_TOKEN=your-agent-token \
  ghcr.io/telepair/agent:latest
```

#### **Windows 服务安装**

```powershell
# 下载并安装
Invoke-WebRequest `
  -Uri "https://github.com/telepair/agent/releases/latest/download/`
       watchdog-agent-windows.exe" `
  -OutFile "C:\\Program Files\\Watchdog\\watchdog-agent.exe"

# 注册为 Windows 服务
& "C:\\Program Files\\Watchdog\\watchdog-agent.exe" install \
  --server="https://your-watchdog.com" \
  --token="your-agent-token"

# 启动服务
Start-Service watchdog-agent
```

### 7.4 用户体验设计

#### **主仪表盘设计**

```text
┌───────────────────────────────────────────────────────────────────────────────┐
│ Watchdog 监控中心                   用户: admin ▼    退出    │
├───────────────────────────────────────────────────────────────────────────────┤
│                                                               │
│ 仪表盘  监控列表  告警中心  模板库  设置  帮助          │
│                                                               │
├───────────────────────────────────────────────────────────────────────────────┤
│                                                               │
│  当前状态                              快速操作           │
│  ┌───────────────────┐ ┌───────────────────┐  │
│  │ 监控目标: 12/12 正常  │ │ + 添加监控目标   │  │
│  │ 告警数量: 0 个活跃    │ │ 📋 从模板创建     │  │
│  │ 系统负载: 低         │ │ 📩 配置通知       │  │
│  │ 数据存储: 2.3GB      │ │ 📋 查看文档       │  │
│  └───────────────────┘ └───────────────────┘  │
│                                                               │
│  最近告警 (过去24小时)                                      │
│  ┌─────────────────────────────────────────────────────────┐  │
│  │ ✅ 无活跃告警                                           │  │
│  │                                                           │  │
│  │ 所有监控目标都运行正常 🎉                           │  │
│  │                                                           │  │
│  │ 上次告警: 3天前 - 网站响应时间过长                   │  │
│  └─────────────────────────────────────────────────────────┘  │
│                                                               │
│  监控概览                                                     │
│  ┌─────────────────────────────┐ ┌─────────────────────────────┐  │
│  │ 网站监控 (5个)              │ │ 服务器监控 (3个)        │  │
│  │ ✅ example.com    99.9%     │ │ ✅ web-server-01  正常   │  │
│  │ ✅ api.example.com 99.8%     │ │ ✅ db-server-01   正常   │  │
│  │ ✅ cdn.example.com 100%      │ │ ✅ cache-01       正常   │  │
│  └─────────────────────────────┘ └─────────────────────────────┘  │
│                                                               │
└───────────────────────────────────────────────────────────────────────────────┘
```

#### **移动端适配**

- **响应式设计**: 支持手机和平板访问
- **关键信息突出**: 告警状态一目了然
- **快速操作**: 一键静音、确认告警
- **离线查看**: 支持离线模式查看历史数据

### 7.5 性能优化和最佳实践

#### **单机版性能优化**

- **内存优化**: 默认限制 100MB，可调节
- **磁盘优化**: 自动数据轮转，保留 30 天数据
- **网络优化**: 连接池复用，缓存 DNS 解析
- **并发控制**: 默认最大 100 并发采集任务

#### **监控最佳实践**

1. **采集策略**：

   - 重要服务: 30 秒间隔
   - 一般服务: 1-5 分钟间隔
   - 外部 API: 5-15 分钟间隔

2. **告警设置**：

   - 设置适当静默期，避免告警风暴
   - 使用分级告警，区分紧急程度
   - 配置升级链路，确保关键问题及时处理

3. **数据管理**：
   - 定期备份配置和历史数据
   - 监控数据库大小，及时清理旧数据
   - 使用模板管理相似监控配置
